title: Url参数中出现+、空格、=、%、&、#等字符的解决办法
date: 2015-04-16 21:50
categories: Front-End
tags:
- JavaScript
---

Url出现了有+，空格，/，?，%，#，&，=等特殊符号的时候，可能在服务器端无法获得正确的参数值，抑或是造成不能正常下载文件(作为Download Url时候)，如何是好？解决办法：就是需要将这些字符转化成服务器可以识别的字符；但是为何Url中有这些字符就会出现问题呢？这就得涉及到URL编码与解码问题了。
<!-- more -->

### __URL编码与解码__
一般来说，URL只能使用英文字母、阿拉伯数字和某些标点符号，不能使用其他文字和符号。Url的编码格式采用的是ASCII码，而不是Unicode，这也就是说你不能在Url中包含任何非ASCII字符，例如希腊字母or中文。比如，世界上有英文字母的网址`http://www.abc.com`，但是没有希腊字母的网址`http://www.aβγ.com`（读作阿尔法-贝塔-伽玛.com）。这是因为网络标准__RFC 1738__做了硬性规定：
>只有字母和数字[0-9a-zA-Z]、一些特殊符号"$-_.+!*'(),"[不包括双引号]、以及某些保留字，才可以不经过编码直接用于URL。

这意味着，如果URL中有汉字，等特殊字符的时候，就必须编码后使用。而+，空格，/，?，%，#，&，=，这些字符(不安全)，当把他们直接放在Url中的时候，可能会引起解析程序的歧义，因此也必须经过编码才能使用。

### __解决办法__
将这些字符转化成服务器可以识别的字符，对应关系如下：

| 特殊字符 | 代表含义 | 替换内容 |
|:------:|:---------------:|:-------------:|
|+     |URL 中+号表示空格             | %2B|
|空格   |URL中的空格可以用+号或者编码    |%20 |
|/     |分隔目录和子目录               |%2F |   
|?     |分隔实际的URL和参数            |%3F |    
|%     |指定特殊字符                  |%25 |    
|#     |表示书签                      |%23 |     
|&     |URL 中指定的参数间的分隔符      |%26 |    
|=     |URL 中指定参数的值             |%3D |

参考文章:
[关于URL编码～阮一峰](http://www.ruanyifeng.com/blog/2010/02/url_encoding.html)
[URL编码与解码](http://kb.cnblogs.com/page/133765/)
[url参数中出现+、空格、=、%、&、#等字符的解决办法](http://www.cnblogs.com/jiunadianshi/articles/2353968.html)
